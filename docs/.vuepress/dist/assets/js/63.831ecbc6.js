(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{601:function(t,s,a){"use strict";a.r(s);var n=a(9),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"gma-osf-multithreading-function-mtparameters-thnumber-all-cpus-process-true-args-kwargs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gma-osf-multithreading-function-mtparameters-thnumber-all-cpus-process-true-args-kwargs"}},[t._v("#")]),t._v(" gma.osf."),a("strong",[t._v("MultiThreading")]),t._v("("),a("em",[t._v("Function, MTParameters, THNumber = 'ALL_CPUS', Process = True, *args, **kwargs")]),t._v(")"),a("Badge",{attrs:{text:"1.0.3 +"}})],1),t._v(" "),a("hr"),t._v(" "),a("p",[a("strong",[t._v("功能：")]),t._v("【多线程】。创建多个线程，实现同一函数多个参数的同步执行。")]),t._v(" "),a("p",[a("strong",[t._v("参数：")])]),t._v(" "),a("p",[t._v(" Function："),a("code",[t._v("def||接受传参的可执行程序（命令）")]),t._v("。需要多线程执行的函数或程序（命令）。")]),t._v(" "),a("p",[t._v(" MTParameters："),a("code",[t._v("list")]),t._v("。需要分别带入 Function 的参数集合。")]),t._v(" "),a("p",[a("strong",[t._v("可选参数：")])]),t._v(" "),a("p",[t._v(" THNumber =  "),a("code",[t._v("int||ALL_CPUS")]),t._v("。线程数，默认是所有 逻辑 CPU 核心数（ALL_CPUS）。")]),t._v(" "),a("p",[t._v(" Process = "),a("code",[t._v("bool")]),t._v(" "),a("Badge",{attrs:{text:"1.0.8 +"}}),t._v(" 。是否显示多线程进度条。默认显示（True）。")],1),t._v(" "),a("p",[t._v(" *args："),a("code",[t._v("Function 的固定参数")]),t._v("。传递给 Function 的不变参数。从 Function 的第一个开始固定。")]),t._v(" "),a("p",[t._v(" **kwargs："),a("code",[t._v("Function 的可选参数'")]),t._v("。传递给 Function 的不变可选参数。")]),t._v(" "),a("p",[a("strong",[t._v("返回：")]),t._v(" "),a("code",[t._v("list")]),t._v("。每个参数带入 Function 执行后的返回值列表。与 MTParameters 的顺序一致。")]),t._v(" "),a("hr"),t._v(" "),a("p",[a("strong",[t._v("示例：")])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" gma\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("em",[t._v("为栅格数据批量构建 .ovr 金字塔")])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取所有栅格数据路径")]),t._v("\nInFiles "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("osf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GetPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 栅格金字塔函数")]),t._v("\nGenerateOVR "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rasp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GenerateOVR\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 批量生成")]),t._v("\ngma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("osf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MultiThreading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GenerateOVR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" InFiles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看生成结果")]),t._v("\nOVRFiles "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("osf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GetPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" EXT "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.ovr'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("OVRFiles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("blockquote",[a("p",[t._v(">>> ['.\\PRE_China_ANUSPLIN_20201215.tif.ovr',"),a("br"),t._v("\n　　　'.\\PRS_China_ANUSPLIN_20201215.tif.ovr',"),a("br"),t._v("\n　　　'.\\RHU_China_ANUSPLIN_20201215.tif.ovr',"),a("br"),t._v("\n　　　'.\\SSD_China_ANUSPLIN_20201215.tif.ovr',"),a("br"),t._v("\n　　　'.\\TMAX_China_ANUSPLIN_20201215.tif.ovr',"),a("br"),t._v("\n　　　'.\\TMIN_China_ANUSPLIN_20201215.tif.ovr',"),a("br"),t._v("\n　　　'.\\WIN_China_ANUSPLIN_20201215.tif.ovr']")])]),t._v(" "),a("ul",[a("li",[a("em",[t._v("控制线程数量")])])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" datetime "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" dt\nT0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ngma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("osf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MultiThreading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GenerateOVR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" InFiles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" THNumber "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2 线程：'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" T0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nT1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ngma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("osf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MultiThreading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GenerateOVR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" InFiles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" THNumber "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'7 线程：'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("now"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" T1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("blockquote",[a("p",[t._v(">>> 2 线程： 0:00:06.622308"),a("br"),t._v("\n>>> 7 线程： 0:00:04.191480")])]),t._v(" "),a("ul",[a("li",[a("em",[t._v("为 "),a("code",[t._v("GenerateOVR")]),t._v(" 传入可选参数")])])]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("CM0 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Open"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("OVRFiles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'metadata'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IMAGE_STRUCTURE'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPRESSION'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'默认压缩方式：'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" CM0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 修改金字塔文件的压缩方式")]),t._v("\ngma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("osf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MultiThreading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GenerateOVR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" InFiles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Compress "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'LZMA'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nCM1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gma"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Open"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("OVRFiles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'metadata'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IMAGE_STRUCTURE'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPRESSION'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'自定义压缩方式：'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" CM1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("blockquote",[a("p",[t._v(">>> 默认压缩方式： DEFLATE"),a("br"),t._v("\n>>> 自定义压缩方式： LZMA")])])])}),[],!1,null,null,null);s.default=e.exports}}]);