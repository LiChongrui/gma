{"remainingRequest":"D:\\github\\gma\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\github\\gma\\theme-reco\\components\\NavLinks.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\github\\gma\\theme-reco\\components\\NavLinks.vue","mtime":1655708735549},{"path":"D:\\github\\gma\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655708709793},{"path":"D:\\github\\gma\\node_modules\\babel-loader\\lib\\index.js","mtime":1655708709173},{"path":"D:\\github\\gma\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655708709793},{"path":"D:\\github\\gma\\node_modules\\vue-loader\\lib\\index.js","mtime":1655708733833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIGNvbXB1dGVkLCBnZXRDdXJyZW50SW5zdGFuY2UgfSBmcm9tICd2dWUtZGVtaScNCmltcG9ydCB7IFJlY29JY29uIH0gZnJvbSAnQHZ1ZXByZXNzLXJlY28vY29yZS9saWIvY29tcG9uZW50cycNCmltcG9ydCBEcm9wZG93bkxpbmsgZnJvbSAnQHRoZW1lL2NvbXBvbmVudHMvRHJvcGRvd25MaW5rJw0KaW1wb3J0IHsgcmVzb2x2ZU5hdkxpbmtJdGVtIH0gZnJvbSAnQHRoZW1lL2hlbHBlcnMvdXRpbHMnDQppbXBvcnQgTmF2TGluayBmcm9tICdAdGhlbWUvY29tcG9uZW50cy9OYXZMaW5rJw0KDQpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoew0KICBjb21wb25lbnRzOiB7IE5hdkxpbmssIERyb3Bkb3duTGluaywgUmVjb0ljb24gfSwNCg0KICBzZXR1cCAocHJvcHMsIGN0eCkgew0KICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCkucHJveHkNCg0KICAgIGNvbnN0IHVzZXJOYXYgPSBjb21wdXRlZCgoKSA9PiB7DQogICAgICByZXR1cm4gaW5zdGFuY2UuJHRoZW1lTG9jYWxlQ29uZmlnLm5hdiB8fCBpbnN0YW5jZS4kdGhlbWVDb25maWcubmF2IHx8IFtdDQogICAgfSkNCg0KICAgIGNvbnN0IG5hdiA9IGNvbXB1dGVkKCgpID0+IHsNCiAgICAgIGNvbnN0IGxvY2FsZXMgPSBpbnN0YW5jZS4kc2l0ZS5sb2NhbGVzIHx8IHt9DQoNCiAgICAgIGlmIChsb2NhbGVzICYmIE9iamVjdC5rZXlzKGxvY2FsZXMpLmxlbmd0aCA+IDEpIHsNCiAgICAgICAgY29uc3QgY3VycmVudExpbmsgPSBpbnN0YW5jZS4kcGFnZS5wYXRoDQogICAgICAgIGNvbnN0IHJvdXRlcyA9IGluc3RhbmNlLiRyb3V0ZXIub3B0aW9ucy5yb3V0ZXMNCiAgICAgICAgY29uc3QgdGhlbWVMb2NhbGVzID0gaW5zdGFuY2UuJHRoZW1lQ29uZmlnLmxvY2FsZXMgfHwge30NCiAgICAgICAgY29uc3QgbGFuZ3VhZ2VEcm9wZG93biA9IHsNCiAgICAgICAgICB0ZXh0OiBpbnN0YW5jZS4kdGhlbWVMb2NhbGVDb25maWcuc2VsZWN0VGV4dCB8fCAnTGFuZ3VhZ2VzJywNCiAgICAgICAgICBpdGVtczogT2JqZWN0LmtleXMobG9jYWxlcykubWFwKHBhdGggPT4gew0KICAgICAgICAgICAgY29uc3QgbG9jYWxlID0gbG9jYWxlc1twYXRoXQ0KICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRoZW1lTG9jYWxlc1twYXRoXSAmJiB0aGVtZUxvY2FsZXNbcGF0aF0ubGFiZWwgfHwgbG9jYWxlLmxhbmcNCiAgICAgICAgICAgIGxldCBsaW5rDQogICAgICAgICAgICAvLyBTdGF5IG9uIHRoZSBjdXJyZW50IHBhZ2UNCiAgICAgICAgICAgIGlmIChsb2NhbGUubGFuZyA9PT0gaW5zdGFuY2UuJGxhbmcpIHsNCiAgICAgICAgICAgICAgbGluayA9IGN1cnJlbnRMaW5rDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAvLyBUcnkgdG8gc3RheSBvbiB0aGUgc2FtZSBwYWdlDQogICAgICAgICAgICAgIGxpbmsgPSBjdXJyZW50TGluay5yZXBsYWNlKGluc3RhbmNlLiRsb2NhbGVDb25maWcucGF0aCwgcGF0aCkNCiAgICAgICAgICAgICAgLy8gZmFsbGJhY2sgdG8gaG9tZXBhZ2UNCiAgICAgICAgICAgICAgaWYgKCFyb3V0ZXMuc29tZShyb3V0ZSA9PiByb3V0ZS5wYXRoID09PSBsaW5rKSkgew0KICAgICAgICAgICAgICAgIGxpbmsgPSBwYXRoDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB7IHRleHQsIGxpbmsgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gWy4uLnVzZXJOYXYudmFsdWUsIGxhbmd1YWdlRHJvcGRvd25dDQogICAgICB9DQoNCiAgICAgIC8vIGJsb2dDb25maWcg55qE5aSE55CG77yM5qC557ud6YWN572u6Ieq5Yqo5re75Yqg5YiG57G75ZKM5qCH562+DQogICAgICBjb25zdCBibG9nQ29uZmlnID0gaW5zdGFuY2UuJHRoZW1lQ29uZmlnLmJsb2dDb25maWcgfHwge30NCiAgICAgIGNvbnN0IGlzSGFzQ2F0ZWdvcnkgPSB1c2VyTmF2LnZhbHVlLnNvbWUoaXRlbSA9PiB7DQogICAgICAgIGlmIChibG9nQ29uZmlnLmNhdGVnb3J5KSB7DQogICAgICAgICAgcmV0dXJuIGl0ZW0udGV4dCA9PT0gKGJsb2dDb25maWcuY2F0ZWdvcnkudGV4dCB8fCAn5YiG57G7JykNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgY29uc3QgaXNIYXNUYWcgPSB1c2VyTmF2LnZhbHVlLnNvbWUoaXRlbSA9PiB7DQogICAgICAgIGlmIChibG9nQ29uZmlnLnRhZykgew0KICAgICAgICAgIHJldHVybiBpdGVtLnRleHQgPT09IChibG9nQ29uZmlnLnRhZy50ZXh0IHx8ICfmoIfnrb4nKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIH0NCiAgICAgIH0pDQoNCiAgICAgIGlmICghaXNIYXNDYXRlZ29yeSAmJiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChibG9nQ29uZmlnLCAnY2F0ZWdvcnknKSkgew0KICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGJsb2dDb25maWcuY2F0ZWdvcnkNCiAgICAgICAgY29uc3QgJGNhdGVnb3JpZXMgPSBpbnN0YW5jZS4kY2F0ZWdvcmllcw0KICAgICAgICB1c2VyTmF2LnZhbHVlLnNwbGljZShwYXJzZUludChjYXRlZ29yeS5sb2NhdGlvbiB8fCAyKSAtIDEsIDAsIHsNCiAgICAgICAgICBpdGVtczogJGNhdGVnb3JpZXMubGlzdC5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgICBpdGVtLmxpbmsgPSBpdGVtLnBhdGgNCiAgICAgICAgICAgIGl0ZW0udGV4dCA9IGl0ZW0ubmFtZQ0KICAgICAgICAgICAgcmV0dXJuIGl0ZW0NCiAgICAgICAgICB9KSwNCiAgICAgICAgICB0ZXh0OiBjYXRlZ29yeS50ZXh0IHx8IGluc3RhbmNlLiRyZWNvTG9jYWxlcy5jYXRlZ29yeSwNCiAgICAgICAgICB0eXBlOiAnbGlua3MnLA0KICAgICAgICAgIGljb246ICdyZWNvLWNhdGVnb3J5Jw0KICAgICAgICB9KQ0KICAgICAgfQ0KDQogICAgICBpZiAoIWlzSGFzVGFnICYmIE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGJsb2dDb25maWcsICd0YWcnKSkgew0KICAgICAgICBjb25zdCB0YWcgPSBibG9nQ29uZmlnLnRhZw0KICAgICAgICB1c2VyTmF2LnZhbHVlLnNwbGljZShwYXJzZUludCh0YWcubG9jYXRpb24gfHwgMykgLSAxLCAwLCB7DQogICAgICAgICAgbGluazogJy90YWcvJywNCiAgICAgICAgICB0ZXh0OiB0YWcudGV4dCB8fCBpbnN0YW5jZS4kcmVjb0xvY2FsZXMudGFnLA0KICAgICAgICAgIHR5cGU6ICdsaW5rcycsDQogICAgICAgICAgaWNvbjogJ3JlY28tdGFnJw0KICAgICAgICB9KQ0KICAgICAgfQ0KDQogICAgICByZXR1cm4gdXNlck5hdi52YWx1ZQ0KICAgIH0pDQoNCiAgICBjb25zdCB1c2VyTGlua3MgPSBjb21wdXRlZCgoKSA9PiB7DQogICAgICByZXR1cm4gKGluc3RhbmNlLm5hdiB8fCBbXSkubWFwKGxpbmsgPT4gew0KICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihyZXNvbHZlTmF2TGlua0l0ZW0obGluayksIHsNCiAgICAgICAgICBpdGVtczogKGxpbmsuaXRlbXMgfHwgW10pLm1hcChyZXNvbHZlTmF2TGlua0l0ZW0pDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0pDQoNCiAgICBjb25zdCByZXBvTGluayA9IGNvbXB1dGVkKCgpID0+IHsNCiAgICAgIGNvbnN0IHsgcmVwbyB9ID0gaW5zdGFuY2UuJHRoZW1lQ29uZmlnDQoNCiAgICAgIGlmIChyZXBvKSB7DQogICAgICAgIHJldHVybiAvXmh0dHBzPzovLnRlc3QocmVwbykNCiAgICAgICAgICA/IHJlcG8NCiAgICAgICAgICA6IGBodHRwczovL2dpdGh1Yi5jb20vJHtyZXBvfWANCiAgICAgIH0NCg0KICAgICAgcmV0dXJuICcnDQogICAgfSkNCg0KICAgIGNvbnN0IHJlcG9MYWJlbCA9IGNvbXB1dGVkKCgpID0+IHsNCiAgICAgIGlmICghaW5zdGFuY2UucmVwb0xpbmspIHJldHVybiAnJw0KICAgICAgaWYgKGluc3RhbmNlLiR0aGVtZUNvbmZpZy5yZXBvTGFiZWwpIHsNCiAgICAgICAgcmV0dXJuIGluc3RhbmNlLiR0aGVtZUNvbmZpZy5yZXBvTGFiZWwNCiAgICAgIH0NCg0KICAgICAgY29uc3QgcmVwb0hvc3QgPSBpbnN0YW5jZS5yZXBvTGluay5tYXRjaCgvXmh0dHBzPzpcL1wvW14vXSsvKVswXQ0KICAgICAgY29uc3QgcGxhdGZvcm1zID0gWydHaXRIdWInLCAnR2l0TGFiJywgJ0JpdGJ1Y2tldCddDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBsYXRmb3Jtcy5sZW5ndGg7IGkrKykgew0KICAgICAgICBjb25zdCBwbGF0Zm9ybSA9IHBsYXRmb3Jtc1tpXQ0KICAgICAgICBpZiAobmV3IFJlZ0V4cChwbGF0Zm9ybSwgJ2knKS50ZXN0KHJlcG9Ib3N0KSkgew0KICAgICAgICAgIHJldHVybiBwbGF0Zm9ybQ0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIHJldHVybiAnU291cmNlJw0KICAgIH0pDQoNCiAgICByZXR1cm4geyB1c2VyTmF2LCBuYXYsIHVzZXJMaW5rcywgcmVwb0xpbmssIHJlcG9MYWJlbCB9DQogIH0NCn0pDQo="},{"version":3,"sources":["NavLinks.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA","file":"NavLinks.vue","sourceRoot":"theme-reco/components","sourcesContent":["<template>\r\n  <nav class=\"nav-links\" v-if=\"userLinks.length || repoLink\">\r\n    <!-- user links -->\r\n    <div\r\n      class=\"nav-item\"\r\n      v-for=\"item in userLinks\"\r\n      :key=\"item.link\"\r\n    >\r\n      <DropdownLink v-if=\"item.type === 'links'\" :item=\"item\" />\r\n      <NavLink v-else :item=\"item\" />\r\n    </div>\r\n\r\n    <!-- repo link -->\r\n    <a\r\n      v-if=\"repoLink\"\r\n      :href=\"repoLink\"\r\n      class=\"repo-link\"\r\n      target=\"_blank\"\r\n      rel=\"noopener noreferrer\"\r\n    >\r\n      <reco-icon :icon=\"`reco-${repoLabel.toLowerCase()}`\" />\r\n      {{ repoLabel }}\r\n      <OutboundLink/>\r\n    </a>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, computed, getCurrentInstance } from 'vue-demi'\r\nimport { RecoIcon } from '@vuepress-reco/core/lib/components'\r\nimport DropdownLink from '@theme/components/DropdownLink'\r\nimport { resolveNavLinkItem } from '@theme/helpers/utils'\r\nimport NavLink from '@theme/components/NavLink'\r\n\r\nexport default defineComponent({\r\n  components: { NavLink, DropdownLink, RecoIcon },\r\n\r\n  setup (props, ctx) {\r\n    const instance = getCurrentInstance().proxy\r\n\r\n    const userNav = computed(() => {\r\n      return instance.$themeLocaleConfig.nav || instance.$themeConfig.nav || []\r\n    })\r\n\r\n    const nav = computed(() => {\r\n      const locales = instance.$site.locales || {}\r\n\r\n      if (locales && Object.keys(locales).length > 1) {\r\n        const currentLink = instance.$page.path\r\n        const routes = instance.$router.options.routes\r\n        const themeLocales = instance.$themeConfig.locales || {}\r\n        const languageDropdown = {\r\n          text: instance.$themeLocaleConfig.selectText || 'Languages',\r\n          items: Object.keys(locales).map(path => {\r\n            const locale = locales[path]\r\n            const text = themeLocales[path] && themeLocales[path].label || locale.lang\r\n            let link\r\n            // Stay on the current page\r\n            if (locale.lang === instance.$lang) {\r\n              link = currentLink\r\n            } else {\r\n              // Try to stay on the same page\r\n              link = currentLink.replace(instance.$localeConfig.path, path)\r\n              // fallback to homepage\r\n              if (!routes.some(route => route.path === link)) {\r\n                link = path\r\n              }\r\n            }\r\n            return { text, link }\r\n          })\r\n        }\r\n\r\n        return [...userNav.value, languageDropdown]\r\n      }\r\n\r\n      // blogConfig 的处理，根绝配置自动添加分类和标签\r\n      const blogConfig = instance.$themeConfig.blogConfig || {}\r\n      const isHasCategory = userNav.value.some(item => {\r\n        if (blogConfig.category) {\r\n          return item.text === (blogConfig.category.text || '分类')\r\n        } else {\r\n          return true\r\n        }\r\n      })\r\n      const isHasTag = userNav.value.some(item => {\r\n        if (blogConfig.tag) {\r\n          return item.text === (blogConfig.tag.text || '标签')\r\n        } else {\r\n          return true\r\n        }\r\n      })\r\n\r\n      if (!isHasCategory && Object.hasOwnProperty.call(blogConfig, 'category')) {\r\n        const category = blogConfig.category\r\n        const $categories = instance.$categories\r\n        userNav.value.splice(parseInt(category.location || 2) - 1, 0, {\r\n          items: $categories.list.map(item => {\r\n            item.link = item.path\r\n            item.text = item.name\r\n            return item\r\n          }),\r\n          text: category.text || instance.$recoLocales.category,\r\n          type: 'links',\r\n          icon: 'reco-category'\r\n        })\r\n      }\r\n\r\n      if (!isHasTag && Object.hasOwnProperty.call(blogConfig, 'tag')) {\r\n        const tag = blogConfig.tag\r\n        userNav.value.splice(parseInt(tag.location || 3) - 1, 0, {\r\n          link: '/tag/',\r\n          text: tag.text || instance.$recoLocales.tag,\r\n          type: 'links',\r\n          icon: 'reco-tag'\r\n        })\r\n      }\r\n\r\n      return userNav.value\r\n    })\r\n\r\n    const userLinks = computed(() => {\r\n      return (instance.nav || []).map(link => {\r\n        return Object.assign(resolveNavLinkItem(link), {\r\n          items: (link.items || []).map(resolveNavLinkItem)\r\n        })\r\n      })\r\n    })\r\n\r\n    const repoLink = computed(() => {\r\n      const { repo } = instance.$themeConfig\r\n\r\n      if (repo) {\r\n        return /^https?:/.test(repo)\r\n          ? repo\r\n          : `https://github.com/${repo}`\r\n      }\r\n\r\n      return ''\r\n    })\r\n\r\n    const repoLabel = computed(() => {\r\n      if (!instance.repoLink) return ''\r\n      if (instance.$themeConfig.repoLabel) {\r\n        return instance.$themeConfig.repoLabel\r\n      }\r\n\r\n      const repoHost = instance.repoLink.match(/^https?:\\/\\/[^/]+/)[0]\r\n      const platforms = ['GitHub', 'GitLab', 'Bitbucket']\r\n      for (let i = 0; i < platforms.length; i++) {\r\n        const platform = platforms[i]\r\n        if (new RegExp(platform, 'i').test(repoHost)) {\r\n          return platform\r\n        }\r\n      }\r\n\r\n      return 'Source'\r\n    })\r\n\r\n    return { userNav, nav, userLinks, repoLink, repoLabel }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n.nav-links\r\n  display inline-block\r\n  a\r\n    line-height 1.4rem\r\n    color var(--text-color)\r\n    &:hover, &.router-link-active\r\n      color $accentColor\r\n      .iconfont\r\n        color $accentColor\r\n  .nav-item\r\n    position relative\r\n    display inline-block\r\n    margin-left 1.5rem\r\n    line-height 2rem\r\n    &:first-child\r\n      margin-left 0\r\n  .repo-link\r\n    margin-left 1.5rem\r\n\r\n@media (max-width: $MQMobile)\r\n  .nav-links\r\n    .nav-item, .repo-link\r\n      margin-left 0\r\n\r\n@media (min-width: $MQMobile)\r\n  .nav-item > a:not(.external)\r\n    &:hover, &.router-link-active\r\n      margin-bottom -2px\r\n</style>\r\n"]}]}