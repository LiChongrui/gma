{"remainingRequest":"D:\\github\\gma\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\github\\gma\\theme-reco\\components\\SidebarLinks.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\github\\gma\\theme-reco\\components\\SidebarLinks.vue","mtime":1645512438794},{"path":"D:\\github\\gma\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645512409618},{"path":"D:\\github\\gma\\node_modules\\babel-loader\\lib\\index.js","mtime":1645512408812},{"path":"D:\\github\\gma\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645512409618},{"path":"D:\\github\\gma\\node_modules\\vue-loader\\lib\\index.js","mtime":1645512437106}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHJlZiwgZ2V0Q3VycmVudEluc3RhbmNlLCB0b1JlZnMsIG9uVXBkYXRlZCwgb25Nb3VudGVkIH0gZnJvbSAndnVlLWRlbWknDQppbXBvcnQgU2lkZWJhckdyb3VwIGZyb20gJ0B0aGVtZS9jb21wb25lbnRzL1NpZGViYXJHcm91cCcNCmltcG9ydCBTaWRlYmFyTGluayBmcm9tICdAdGhlbWUvY29tcG9uZW50cy9TaWRlYmFyTGluaycNCmltcG9ydCB7IGlzQWN0aXZlIH0gZnJvbSAnQHRoZW1lL2hlbHBlcnMvdXRpbHMnDQoNCmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7DQogIG5hbWU6ICdTaWRlYmFyTGlua3MnLA0KDQogIGNvbXBvbmVudHM6IHsgU2lkZWJhckdyb3VwLCBTaWRlYmFyTGluayB9LA0KDQogIHByb3BzOiBbDQogICAgJ2l0ZW1zJywNCiAgICAnZGVwdGgnLCAvLyBkZXB0aCBvZiBjdXJyZW50IHNpZGViYXIgbGlua3MNCiAgICAnc2lkZWJhckRlcHRoJyAvLyBkZXB0aCBvZiBoZWFkZXJzIHRvIGJlIGV4dHJhY3RlZA0KICBdLA0KDQogIHNldHVwIChwcm9wcywgY3R4KSB7DQogICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKS5wcm94eQ0KDQogICAgY29uc3QgeyBpdGVtcyB9ID0gdG9SZWZzKHByb3BzKQ0KDQogICAgY29uc3Qgb3Blbkdyb3VwSW5kZXggPSByZWYoMCkNCg0KICAgIGNvbnN0IHJlZnJlc2hJbmRleCA9ICgpID0+IHsNCiAgICAgIGNvbnN0IGluZGV4ID0gcmVzb2x2ZU9wZW5Hcm91cEluZGV4KA0KICAgICAgICBpbnN0YW5jZS4kcm91dGUsDQogICAgICAgIGl0ZW1zLnZhbHVlDQogICAgICApDQogICAgICBpZiAoaW5kZXggPiAtMSkgew0KICAgICAgICBvcGVuR3JvdXBJbmRleC52YWx1ZSA9IGluZGV4DQogICAgICB9DQogICAgfQ0KDQogICAgY29uc3QgYWN0aXZhdGlvbkFuY2hvciA9ICgpID0+IHsNCiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZg0KICAgICAgY29uc3QgYW5jaG9ycyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChBSExfSEVBREVSX0FOQ0hPUl9TRUxFQ1RPUikpDQogICAgICAgIC5maWx0ZXIoYW5jaG9yID0+IGRlY29kZVVSSUNvbXBvbmVudChpbnN0YW5jZS4kcm91dGUuZnVsbFBhdGgpLmluZGV4T2YoZGVjb2RlVVJJQ29tcG9uZW50KGFuY2hvci5oYXNoKSkgIT0gLTEpDQogICAgICBpZiAoYW5jaG9ycyA9PSBudWxsIHx8IGFuY2hvcnMubGVuZ3RoIDwgMSB8fCBhbmNob3JzWzBdLm9mZnNldFRvcCA9PSB1bmRlZmluZWQpIHJldHVybg0KICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBhbmNob3JzWzBdLm9mZnNldFRvcCArIDE2MCkNCiAgICAgIH0sIDEwMCkNCiAgICB9DQoNCiAgICBjb25zdCBhY3RpdmF0aW9uTGluayA9ICgpID0+IHsNCiAgICAgIGNvbnN0IHN1YnRpdGxlTmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChpbnN0YW5jZS4kcm91dGUuZnVsbFBhdGgpDQogICAgICBpZiAoIXN1YnRpdGxlTmFtZSB8fCBzdWJ0aXRsZU5hbWUgPT0gJycpIHJldHVybg0KICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmDQogICAgICBjb25zdCBzdWJ0aXRsZXMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoQUhMX1NJREVCQVJfTElOS19TRUxFQ1RPUikpDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YnRpdGxlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICBpZiAoZGVjb2RlVVJJQ29tcG9uZW50KHN1YnRpdGxlc1tpXS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkuaW5kZXhPZihzdWJ0aXRsZU5hbWUpICE9IC0xKSB7DQogICAgICAgICAgc3VidGl0bGVzW2ldLmNsaWNrKCkNCiAgICAgICAgICBhY3RpdmF0aW9uQW5jaG9yKCkNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCg0KICAgIGNvbnN0IGlzSW5WaWV3UG9ydE9mT25lID0gKCkgPT4gew0KICAgICAgY29uc3Qgc2lkZWJhclNjcm9sbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NpZGViYXInKVswXQ0KICAgICAgbGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlIHNpZGViYXItbGluaycpWzFdDQogICAgICBpZiAoZWwgPT0gbnVsbCB8fCBlbCA9PSB1bmRlZmluZWQgfHwgZWwub2Zmc2V0VG9wID09IHVuZGVmaW5lZCkgew0KICAgICAgICBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FjdGl2ZSBzaWRlYmFyLWxpbmsnKVswXQ0KICAgICAgfQ0KICAgICAgaWYgKGVsID09IG51bGwgfHwgZWwgPT0gdW5kZWZpbmVkIHx8IGVsLm9mZnNldFRvcCA9PSB1bmRlZmluZWQpIHJldHVybg0KDQogICAgICBjb25zdCB2aWV3UG9ydEhlaWdodCA9IHNpZGViYXJTY3JvbGwuY2xpZW50SGVpZ2h0IHx8IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0DQogICAgICBjb25zdCBvZmZzZXRUb3AgPSBlbC5vZmZzZXRUb3ANCiAgICAgIGNvbnN0IG9mZnNldEJvdHRvbSA9IGVsLm9mZnNldFRvcCArIGVsLm9mZnNldEhlaWdodA0KICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gc2lkZWJhclNjcm9sbC5zY3JvbGxUb3ANCiAgICAgIGNvbnN0IGJvdHRvbVZpc2libGUgPSAob2Zmc2V0Qm90dG9tIDw9IHZpZXdQb3J0SGVpZ2h0ICsgc2Nyb2xsVG9wKQ0KICAgICAgaWYgKCFib3R0b21WaXNpYmxlKSB7DQogICAgICAgIHNpZGViYXJTY3JvbGwuc2Nyb2xsVG9wID0gKG9mZnNldEJvdHRvbSArIDUgLSB2aWV3UG9ydEhlaWdodCkNCiAgICAgIH0NCiAgICAgIGNvbnN0IHRvcFZpc2libGUgPSAob2Zmc2V0VG9wID49IHNjcm9sbFRvcCkNCiAgICAgIGlmICghdG9wVmlzaWJsZSkgew0KICAgICAgICBzaWRlYmFyU2Nyb2xsLnNjcm9sbFRvcCA9IChvZmZzZXRUb3AgLSA1KQ0KICAgICAgfQ0KICAgIH0NCg0KICAgIGNvbnN0IHRvZ2dsZUdyb3VwID0gKGluZGV4KSA9PiB7DQogICAgICBpbnN0YW5jZS5vcGVuR3JvdXBJbmRleCA9IGluZGV4ID09PSBpbnN0YW5jZS5vcGVuR3JvdXBJbmRleCA/IC0xIDogaW5kZXgNCiAgICB9DQoNCiAgICBjb25zdCBpc0FjdGl2ZSA9IChwYWdlKSA9PiB7DQogICAgICByZXR1cm4gaXNBY3RpdmUoaW5zdGFuY2UuJHJvdXRlLCBwYWdlLnJlZ3VsYXJQYXRoKQ0KICAgIH0NCg0KICAgIHJlZnJlc2hJbmRleCgpDQoNCiAgICBvbk1vdW50ZWQoKCkgPT4gew0KICAgICAgYWN0aXZhdGlvbkxpbmsoKQ0KICAgICAgaXNJblZpZXdQb3J0T2ZPbmUoKQ0KICAgIH0pDQoNCiAgICBvblVwZGF0ZWQoKCkgPT4gaXNJblZpZXdQb3J0T2ZPbmUoKSkNCg0KICAgIHJldHVybiB7IG9wZW5Hcm91cEluZGV4LCByZWZyZXNoSW5kZXgsIHRvZ2dsZUdyb3VwLCBpc0FjdGl2ZSB9DQogIH0sDQoNCiAgd2F0Y2g6IHsNCiAgICAnJHJvdXRlJyAoKSB7DQogICAgICB0aGlzLnJlZnJlc2hJbmRleCgpDQogICAgfQ0KICB9DQp9KQ0KDQpmdW5jdGlvbiByZXNvbHZlT3Blbkdyb3VwSW5kZXggKHJvdXRlLCBpdGVtcykgew0KICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7DQogICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldDQogICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2dyb3VwJyAmJiBpdGVtLmNoaWxkcmVuLnNvbWUoYyA9PiBjLnR5cGUgPT09ICdwYWdlJyAmJiBpc0FjdGl2ZShyb3V0ZSwgYy5wYXRoKSkpIHsNCiAgICAgIHJldHVybiBpDQogICAgfQ0KICB9DQogIHJldHVybiAtMQ0KfQ0K"},{"version":3,"sources":["SidebarLinks.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SidebarLinks.vue","sourceRoot":"theme-reco/components","sourcesContent":["<template>\r\n  <ul\r\n    class=\"sidebar-links\"\r\n    v-if=\"items.length\"\r\n  >\r\n    <li v-for=\"(item, i) in items\" :key=\"i\">\r\n      <SidebarGroup\r\n        v-if=\"item.type === 'group'\"\r\n        :item=\"item\"\r\n        :open=\"i === openGroupIndex\"\r\n        :collapsable=\"item.collapsable || item.collapsible\"\r\n        :depth=\"depth\"\r\n        @toggle=\"toggleGroup(i)\"\r\n      />\r\n      <SidebarLink\r\n        v-else\r\n        :sidebarDepth=\"sidebarDepth\"\r\n        :item=\"item\"\r\n      />\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref, getCurrentInstance, toRefs, onUpdated, onMounted } from 'vue-demi'\r\nimport SidebarGroup from '@theme/components/SidebarGroup'\r\nimport SidebarLink from '@theme/components/SidebarLink'\r\nimport { isActive } from '@theme/helpers/utils'\r\n\r\nexport default defineComponent({\r\n  name: 'SidebarLinks',\r\n\r\n  components: { SidebarGroup, SidebarLink },\r\n\r\n  props: [\r\n    'items',\r\n    'depth', // depth of current sidebar links\r\n    'sidebarDepth' // depth of headers to be extracted\r\n  ],\r\n\r\n  setup (props, ctx) {\r\n    const instance = getCurrentInstance().proxy\r\n\r\n    const { items } = toRefs(props)\r\n\r\n    const openGroupIndex = ref(0)\r\n\r\n    const refreshIndex = () => {\r\n      const index = resolveOpenGroupIndex(\r\n        instance.$route,\r\n        items.value\r\n      )\r\n      if (index > -1) {\r\n        openGroupIndex.value = index\r\n      }\r\n    }\r\n\r\n    const activationAnchor = () => {\r\n      // eslint-disable-next-line no-undef\r\n      const anchors = [].slice.call(document.querySelectorAll(AHL_HEADER_ANCHOR_SELECTOR))\r\n        .filter(anchor => decodeURIComponent(instance.$route.fullPath).indexOf(decodeURIComponent(anchor.hash)) != -1)\r\n      if (anchors == null || anchors.length < 1 || anchors[0].offsetTop == undefined) return\r\n      setTimeout(function () {\r\n        window.scrollTo(0, anchors[0].offsetTop + 160)\r\n      }, 100)\r\n    }\r\n\r\n    const activationLink = () => {\r\n      const subtitleName = decodeURIComponent(instance.$route.fullPath)\r\n      if (!subtitleName || subtitleName == '') return\r\n      // eslint-disable-next-line no-undef\r\n      const subtitles = [].slice.call(document.querySelectorAll(AHL_SIDEBAR_LINK_SELECTOR))\r\n      for (let i = 0; i < subtitles.length; i++) {\r\n        if (decodeURIComponent(subtitles[i].getAttribute('href')).indexOf(subtitleName) != -1) {\r\n          subtitles[i].click()\r\n          activationAnchor()\r\n          return\r\n        }\r\n      }\r\n    }\r\n\r\n    const isInViewPortOfOne = () => {\r\n      const sidebarScroll = document.getElementsByClassName('sidebar')[0]\r\n      let el = document.getElementsByClassName('active sidebar-link')[1]\r\n      if (el == null || el == undefined || el.offsetTop == undefined) {\r\n        el = document.getElementsByClassName('active sidebar-link')[0]\r\n      }\r\n      if (el == null || el == undefined || el.offsetTop == undefined) return\r\n\r\n      const viewPortHeight = sidebarScroll.clientHeight || window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight\r\n      const offsetTop = el.offsetTop\r\n      const offsetBottom = el.offsetTop + el.offsetHeight\r\n      const scrollTop = sidebarScroll.scrollTop\r\n      const bottomVisible = (offsetBottom <= viewPortHeight + scrollTop)\r\n      if (!bottomVisible) {\r\n        sidebarScroll.scrollTop = (offsetBottom + 5 - viewPortHeight)\r\n      }\r\n      const topVisible = (offsetTop >= scrollTop)\r\n      if (!topVisible) {\r\n        sidebarScroll.scrollTop = (offsetTop - 5)\r\n      }\r\n    }\r\n\r\n    const toggleGroup = (index) => {\r\n      instance.openGroupIndex = index === instance.openGroupIndex ? -1 : index\r\n    }\r\n\r\n    const isActive = (page) => {\r\n      return isActive(instance.$route, page.regularPath)\r\n    }\r\n\r\n    refreshIndex()\r\n\r\n    onMounted(() => {\r\n      activationLink()\r\n      isInViewPortOfOne()\r\n    })\r\n\r\n    onUpdated(() => isInViewPortOfOne())\r\n\r\n    return { openGroupIndex, refreshIndex, toggleGroup, isActive }\r\n  },\r\n\r\n  watch: {\r\n    '$route' () {\r\n      this.refreshIndex()\r\n    }\r\n  }\r\n})\r\n\r\nfunction resolveOpenGroupIndex (route, items) {\r\n  for (let i = 0; i < items.length; i++) {\r\n    const item = items[i]\r\n    if (item.type === 'group' && item.children.some(c => c.type === 'page' && isActive(route, c.path))) {\r\n      return i\r\n    }\r\n  }\r\n  return -1\r\n}\r\n</script>\r\n"]}]}