{"remainingRequest":"D:\\github\\gma\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\github\\gma\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\github\\gma\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\github\\gma\\theme-reco\\components\\Mode\\ModePicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\github\\gma\\theme-reco\\components\\Mode\\ModePicker.vue","mtime":1661843422000},{"path":"D:\\github\\gma\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661843402000},{"path":"D:\\github\\gma\\node_modules\\babel-loader\\lib\\index.js","mtime":1661843400000},{"path":"D:\\github\\gma\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661843402000},{"path":"D:\\github\\gma\\node_modules\\vue-loader\\lib\\index.js","mtime":1661843420000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGFwcGx5TW9kZSBmcm9tICcuL2FwcGx5TW9kZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTW9kZU9wdGlvbnMnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlT3B0aW9uczogW3sKICAgICAgICBtb2RlOiAnZGFyaycsCiAgICAgICAgdGl0bGU6ICfmt7HoibInCiAgICAgIH0sIHsKICAgICAgICBtb2RlOiAnYXV0bycsCiAgICAgICAgdGl0bGU6ICfoh6rliqgnCiAgICAgIH0sIHsKICAgICAgICBtb2RlOiAnbGlnaHQnLAogICAgICAgIHRpdGxlOiAn5rWF6ImyJwogICAgICB9XSwKICAgICAgY3VycmVudE1vZGU6ICdhdXRvJwogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyBtb2RlUGlja2VyIOW8gOWQr+aXtum7mOiupOS9v+eUqOeUqOaIt+S4u+WKqOiuvue9rueahOaooeW8jwogICAgdGhpcy5jdXJyZW50TW9kZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtb2RlJykgfHwgdGhpcy4kdGhlbWVDb25maWcubW9kZSB8fCAnYXV0byc7IC8vIERhcmsgYW5kIExpZ2h0IGF1dG9zd2l0Y2hlcwogICAgLy8g5Li65LqG6YG/5YWN5ZyoIHNlcnZlci1zaWRlIOiiq+aJp+ihjO+8jOaVheWcqCBWdWUg57uE5Lu25Lit6K6+572u55uR5ZCs5ZmoCgogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7CiAgICAgIHRoYXQuJGRhdGEuY3VycmVudE1vZGUgPT09ICdhdXRvJyAmJiBhcHBseU1vZGUodGhhdC4kZGF0YS5jdXJyZW50TW9kZSk7CiAgICB9KTsKICAgIHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KScpLmFkZExpc3RlbmVyKGZ1bmN0aW9uICgpIHsKICAgICAgdGhhdC4kZGF0YS5jdXJyZW50TW9kZSA9PT0gJ2F1dG8nICYmIGFwcGx5TW9kZSh0aGF0LiRkYXRhLmN1cnJlbnRNb2RlKTsKICAgIH0pOwogICAgYXBwbHlNb2RlKHRoaXMuY3VycmVudE1vZGUpOwogIH0sCiAgbWV0aG9kczogewogICAgc2VsZWN0TW9kZTogZnVuY3Rpb24gc2VsZWN0TW9kZShtb2RlKSB7CiAgICAgIGlmIChtb2RlICE9PSB0aGlzLmN1cnJlbnRNb2RlKSB7CiAgICAgICAgdGhpcy5jdXJyZW50TW9kZSA9IG1vZGU7CiAgICAgICAgYXBwbHlNb2RlKG1vZGUpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtb2RlJywgbW9kZSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRDbGFzczogZnVuY3Rpb24gZ2V0Q2xhc3MobW9kZSkgewogICAgICByZXR1cm4gbW9kZSAhPT0gdGhpcy5jdXJyZW50TW9kZSA/IG1vZGUgOiAiIi5jb25jYXQobW9kZSwgIiBhY3RpdmUiKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:/github/gma/theme-reco/components/Mode/ModePicker.vue"],"names":["applyMode","name","data","modeOptions","mode","title","currentMode","mounted","localStorage","getItem","$themeConfig","that","window","matchMedia","addListener","$data","methods","selectMode","setItem","getClass"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,SAAP,MAAsB,aAAtB;AACA,eAAe;AACbC,EAAAA,IAAI,EAAE,aADO;AAGbC,EAAAA,IAHa,kBAGL;AACN,WAAO;AACLC,MAAAA,WAAW,EAAE,CACX;AAAEC,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,KAAK,EAAE;AAAvB,OADW,EAEX;AAAED,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,KAAK,EAAE;AAAvB,OAFW,EAGX;AAAED,QAAAA,IAAI,EAAE,OAAR;AAAiBC,QAAAA,KAAK,EAAE;AAAxB,OAHW,CADR;AAMLC,MAAAA,WAAW,EAAE;AANR,KAAP;AAQD,GAZY;AAcbC,EAAAA,OAda,qBAcF;AACT;AACA,SAAKD,WAAL,GAAmBE,YAAY,CAACC,OAAb,CAAqB,MAArB,KAAgC,KAAKC,YAAL,CAAkBN,IAAlD,IAA0D,MAA7E,CAFS,CAIT;AACA;;AACA,QAAIO,IAAI,GAAG,IAAX;AACAC,IAAAA,MAAM,CAACC,UAAP,CAAkB,8BAAlB,EAAkDC,WAAlD,CAA8D,YAAM;AAClEH,MAAAA,IAAI,CAACI,KAAL,CAAWT,WAAX,KAA2B,MAA3B,IAAqCN,SAAS,CAACW,IAAI,CAACI,KAAL,CAAWT,WAAZ,CAA9C;AACD,KAFD;AAGAM,IAAAA,MAAM,CAACC,UAAP,CAAkB,+BAAlB,EAAmDC,WAAnD,CAA+D,YAAM;AACnEH,MAAAA,IAAI,CAACI,KAAL,CAAWT,WAAX,KAA2B,MAA3B,IAAqCN,SAAS,CAACW,IAAI,CAACI,KAAL,CAAWT,WAAZ,CAA9C;AACD,KAFD;AAIAN,IAAAA,SAAS,CAAC,KAAKM,WAAN,CAAT;AACD,GA7BY;AA+BbU,EAAAA,OAAO,EAAE;AACPC,IAAAA,UADO,sBACKb,IADL,EACW;AAChB,UAAIA,IAAI,KAAK,KAAKE,WAAlB,EAA+B;AAC7B,aAAKA,WAAL,GAAmBF,IAAnB;AACAJ,QAAAA,SAAS,CAACI,IAAD,CAAT;AACAI,QAAAA,YAAY,CAACU,OAAb,CAAqB,MAArB,EAA6Bd,IAA7B;AACD;AACF,KAPM;AAQPe,IAAAA,QARO,oBAQGf,IARH,EAQS;AACd,aAAOA,IAAI,KAAK,KAAKE,WAAd,GAA4BF,IAA5B,aAAsCA,IAAtC,YAAP;AACD;AAVM;AA/BI,CAAf","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport applyMode from './applyMode'\r\nexport default {\r\n  name: 'ModeOptions',\r\n\r\n  data () {\r\n    return {\r\n      modeOptions: [\r\n        { mode: 'dark', title: '深色' },\r\n        { mode: 'auto', title: '自动' },\r\n        { mode: 'light', title: '浅色' }\r\n      ],\r\n      currentMode: 'auto'\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    // modePicker 开启时默认使用用户主动设置的模式\r\n    this.currentMode = localStorage.getItem('mode') || this.$themeConfig.mode || 'auto'\r\n\r\n    // Dark and Light autoswitches\r\n    // 为了避免在 server-side 被执行，故在 Vue 组件中设置监听器\r\n    var that = this\r\n    window.matchMedia('(prefers-color-scheme: dark)').addListener(() => {\r\n      that.$data.currentMode === 'auto' && applyMode(that.$data.currentMode)\r\n    })\r\n    window.matchMedia('(prefers-color-scheme: light)').addListener(() => {\r\n      that.$data.currentMode === 'auto' && applyMode(that.$data.currentMode)\r\n    })\r\n\r\n    applyMode(this.currentMode)\r\n  },\r\n\r\n  methods: {\r\n    selectMode (mode) {\r\n      if (mode !== this.currentMode) {\r\n        this.currentMode = mode\r\n        applyMode(mode)\r\n        localStorage.setItem('mode', mode)\r\n      }\r\n    },\r\n    getClass (mode) {\r\n      return mode !== this.currentMode ? mode : `${mode} active`\r\n    }\r\n  }\r\n}\r\n"]}]}