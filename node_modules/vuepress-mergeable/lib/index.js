// eslint-disable-next-line @typescript-eslint/no-var-requires
const Mergeable = require('deconstruct-merge');
function vuepressMergeable(plugin, mergeOptions, defaultOptions) {
    let pluginFunction;
    if (typeof plugin !== 'function') {
        pluginFunction = () => plugin;
    }
    else {
        pluginFunction = plugin;
    }
    const config = new Mergeable(mergeOptions).merge(defaultOptions);
    return (options, context, pluginApi) => {
        return pluginFunction(config.merge(options).value(), context, pluginApi);
    };
}
module.exports = vuepressMergeable;
//# sourceMappingURL=index.js.map